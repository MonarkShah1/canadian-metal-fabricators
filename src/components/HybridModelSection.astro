---
import Button from './ui/Button.astro';
---

<section id="hybrid" class="py-12 bg-slate-950 text-white relative overflow-hidden border-t border-slate-900">
  
  <div class="container mx-auto px-6 md:px-12 relative z-10 pt-0">
    
    <!-- The Connector & Pill -->
    <div class="relative flex flex-col items-center justify-center mb-12">
        <!-- Blue Flare Glow -->
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-blue-500/20 blur-2xl rounded-full pointer-events-none"></div>

        <!-- Vertical Line from Top Border -->
        <div class="h-12 w-px bg-gradient-to-b from-slate-800 to-blue-500/50"></div>

        <!-- The Pill -->
        <div class="bg-slate-950 border border-blue-500/30 text-blue-400 text-[10px] font-bold uppercase tracking-widest px-3 py-1 rounded-full shadow-[0_0_20px_rgba(59,130,246,0.4)] z-10 relative my-4">
            The Strategy
        </div>
    </div>

    <!-- Section Header -->
    <div class="text-center max-w-4xl mx-auto mb-16 reveal">
      <h2 class="font-montserrat font-bold text-4xl md:text-5xl mb-6">
        The Dual-Source Advantage.
      </h2>
      <p class="font-poppins text-slate-400 text-lg leading-relaxed max-w-2xl mx-auto">
        A unified supply chain that combines Global Sourcing with Domestic Manufacturing. We deliver the cost efficiency of offshore volume with the flexibility of local responsiveness.
      </p>
    </div>

    <!-- The Architectural Stack Visualization -->
    <div class="relative max-w-4xl mx-auto mb-24">
        
        <!-- Central Connector Line (Internal Stack Only) -->
        <div class="absolute left-1/2 top-0 bottom-0 w-px border-l border-dashed border-slate-700 -translate-x-1/2 z-0">
            <!-- Flow Animation Dot -->
            <div class="absolute top-0 left-[-4px] w-2 h-2 bg-blue-500 rounded-full animate-flow-down shadow-[0_0_10px_rgba(59,130,246,0.8)]"></div>
        </div>

        <div class="flex flex-col items-center gap-4 relative z-10">
            
            <!-- LAYER 1 (TOP): Global Volume (Widest) -->
            <div class="w-full bg-slate-900/60 backdrop-blur-sm border border-slate-700 p-8 rounded-2xl shadow-lg hover:border-slate-500 transition duration-500 relative group">
                <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold text-white border-4 border-slate-950 z-20 shadow-lg">1</div>

                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="w-16 h-16 bg-slate-800 rounded-xl flex items-center justify-center shrink-0 border border-slate-700 group-hover:bg-slate-700 transition">
                         <svg class="w-8 h-8 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-xl font-bold text-white mb-1">Global Volume</h3>
                        <p class="text-sm text-slate-500 font-mono uppercase tracking-wider mb-2">Economic Scale</p>
                        <p class="text-slate-400 text-sm">High-capacity production for standardized components. We leverage global economics to optimize your project budget.</p>
                    </div>
                </div>
            </div>

            <!-- LAYER 2 (MIDDLE): Strategic Logistics (Middle Width) -->
            <div class="w-full md:w-[90%] bg-slate-900/80 backdrop-blur-md border border-blue-500/30 p-8 rounded-2xl shadow-xl hover:border-blue-500/60 transition duration-500 relative group">
                <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-xs font-bold text-white border-4 border-slate-950 z-20 shadow-lg">2</div>

                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="w-16 h-16 bg-blue-500/10 rounded-xl flex items-center justify-center shrink-0 border border-blue-500/20 group-hover:bg-blue-500/20 transition">
                         <svg class="w-8 h-8 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-xl font-bold text-white mb-1">Strategic Logistics</h3>
                        <p class="text-sm text-blue-400 font-mono uppercase tracking-wider mb-2">Just-In-Time Staging</p>
                        <p class="text-slate-400 text-sm">We streamline site operations. Goods are received, inspected, and staged at our GTA facility, delivered exactly when your schedule demands.</p>
                    </div>
                </div>
            </div>

            <!-- LAYER 3 (BOTTOM): Agile Domestic Response (Narrowest) -->
            <div class="w-full md:w-[80%] bg-slate-900/90 backdrop-blur-md border border-green-500/30 p-8 rounded-2xl shadow-[0_0_40px_rgba(34,197,94,0.1)] hover:border-green-500/60 transition duration-500 transform hover:-translate-y-1 relative group">
                <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-xs font-bold text-black border-4 border-slate-950 z-20 shadow-lg">3</div>
                
                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="w-16 h-16 bg-green-500/10 rounded-xl flex items-center justify-center shrink-0 border border-green-500/20 group-hover:bg-green-500/20 transition">
                         <svg class="w-8 h-8 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-xl font-bold text-white mb-1">Agile Domestic Response</h3>
                        <p class="text-sm text-green-400 font-mono uppercase tracking-wider mb-2">Domestic Shop Capacity</p>
                        <p class="text-slate-400 text-sm">Agility where it counts. Our in-house Toronto facility handles rapid prototyping, last-minute changes, and precision finishing.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Output Connector to Next Section -->
    <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-px h-24 bg-gradient-to-b from-slate-800 to-slate-700 dashed border-l border-slate-800 border-dashed opacity-50"></div>
    
    <!-- Connection Node on Border -->
    <div class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 z-20">
         <div class="w-3 h-3 bg-slate-900 border border-slate-700 rounded-full flex items-center justify-center shadow-[0_0_10px_rgba(34,197,94,0.4)]">
            <div class="w-1 h-1 bg-green-500 rounded-full animate-pulse"></div>
         </div>
    </div>

  </div>
</section>

<style>
    @keyframes flow-down {
        0% { top: 0; opacity: 0; }
        20% { opacity: 1; }
        80% { opacity: 1; }
        100% { top: 100%; opacity: 0; }
    }
    .animate-flow-down {
        animation: flow-down 3s infinite ease-in-out;
    }
</style>