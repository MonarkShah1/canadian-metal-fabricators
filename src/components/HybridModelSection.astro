---
import Button from './ui/Button.astro';
---

<section id="hybrid" class="py-12 bg-slate-950 text-white relative overflow-hidden border-t border-slate-900">
  
  <div class="container mx-auto px-6 md:px-12 relative z-10 pt-0">
    
    <!-- The Connector & Fix Pill (Overlapping the Border) -->
    <div class="relative flex flex-col items-center justify-center mb-12 -mt-6">
        <!-- Blue Flare Glow -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-blue-500/20 blur-2xl rounded-full pointer-events-none"></div>

        <!-- The Pill -->
        <div class="bg-slate-950 border border-blue-500/30 text-blue-400 text-[10px] font-bold uppercase tracking-widest px-3 py-1 rounded-full shadow-[0_0_20px_rgba(59,130,246,0.4)] z-10 relative">
            The Fix
        </div>
        
        <!-- Line to header -->
        <div class="h-12 w-px bg-gradient-to-b from-slate-700 to-transparent"></div>
    </div>

    <!-- Section Header -->
    <div class="text-center max-w-4xl mx-auto mb-16 reveal">
      <h2 class="font-montserrat font-bold text-4xl md:text-5xl mb-6">
        The Hybrid Shield.
      </h2>
      <p class="font-poppins text-slate-400 text-lg leading-relaxed max-w-2xl mx-auto">
        We aren't just a broker. We combine Global Sourcing with Domestic Manufacturing. The only supply chain that backs offshore volume with local rescue capacity.
      </p>
    </div>

    <!-- The Architectural Stack Visualization -->
    <div class="relative max-w-4xl mx-auto mb-24">
        
        <!-- Central Connector Line (Internal Stack Only) -->
        <div class="absolute left-1/2 top-0 bottom-0 w-px border-l border-dashed border-slate-700 -translate-x-1/2 z-0">
            <!-- Flow Animation Dot -->
            <div class="absolute top-0 left-[-4px] w-2 h-2 bg-blue-500 rounded-full animate-flow-down shadow-[0_0_10px_rgba(59,130,246,0.8)]"></div>
        </div>

        <div class="flex flex-col items-center gap-4 relative z-10">
            
            <!-- LAYER 3 (TOP): The Safety Cap -->
            <div class="w-full md:w-[80%] bg-slate-900/90 backdrop-blur-md border border-green-500/30 p-8 rounded-2xl shadow-[0_0_40px_rgba(34,197,94,0.1)] hover:border-green-500/60 transition duration-500 transform hover:-translate-y-1 relative group">
                <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-xs font-bold text-black border-4 border-slate-950 z-20 shadow-lg">3</div>
                
                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="w-16 h-16 bg-green-500/10 rounded-xl flex items-center justify-center shrink-0 border border-green-500/20 group-hover:bg-green-500/20 transition">
                         <svg class="w-8 h-8 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-xl font-bold text-white mb-1">Rescue Fabrication</h3>
                        <p class="text-sm text-green-400 font-mono uppercase tracking-wider mb-2">Domestic Shop Capacity</p>
                        <p class="text-slate-400 text-sm">If the global chain snaps, we manufacture critical items in-house. Laser, Brake, and Welding capacity ready to deploy.</p>
                    </div>
                </div>
            </div>

            <!-- LAYER 2 (MIDDLE): The Filter -->
            <div class="w-full md:w-[90%] bg-slate-900/80 backdrop-blur-md border border-blue-500/30 p-8 rounded-2xl shadow-xl hover:border-blue-500/60 transition duration-500 relative group">
                <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-xs font-bold text-white border-4 border-slate-950 z-20 shadow-lg">2</div>

                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="w-16 h-16 bg-blue-500/10 rounded-xl flex items-center justify-center shrink-0 border border-blue-500/20 group-hover:bg-blue-500/20 transition">
                         <svg class="w-8 h-8 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-xl font-bold text-white mb-1">Logistics & Verification</h3>
                        <p class="text-sm text-blue-400 font-mono uppercase tracking-wider mb-2">3PL Inventory Buffer</p>
                        <p class="text-slate-400 text-sm">Goods are staged at secure 3PL facilities in the GTA. We perform visual and dimensional checks before they hit your site.</p>
                    </div>
                </div>
            </div>

            <!-- LAYER 1 (BOTTOM): The Foundation -->
            <div class="w-full bg-slate-900/60 backdrop-blur-sm border border-slate-700 p-8 rounded-2xl shadow-lg hover:border-slate-500 transition duration-500 relative group">
                <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold text-white border-4 border-slate-950 z-20 shadow-lg">1</div>

                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="w-16 h-16 bg-slate-800 rounded-xl flex items-center justify-center shrink-0 border border-slate-700 group-hover:bg-slate-700 transition">
                         <svg class="w-8 h-8 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-xl font-bold text-white mb-1">Global Volumetrics</h3>
                        <p class="text-sm text-slate-500 font-mono uppercase tracking-wider mb-2">Cost Scale</p>
                        <p class="text-slate-400 text-sm">Division 5/10 mass production via ISO-certified partners. We manage the import, duties, and logistics.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- The Premium Guarantee Card -->
    <div class="max-w-3xl mx-auto relative z-10">
        <div class="relative bg-black border border-yellow-500/20 rounded-3xl p-8 md:p-12 overflow-hidden shadow-[0_0_50px_rgba(234,179,8,0.1)] group hover:border-yellow-500/40 transition duration-500">
            
            <!-- Golden Glow -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 rounded-full blur-3xl pointer-events-none"></div>

            <div class="flex flex-col md:flex-row items-center gap-8 relative z-10">
                
                <!-- Icon -->
                <div class="shrink-0 relative">
                    <div class="w-20 h-20 bg-yellow-500/10 rounded-full border border-yellow-500/30 flex items-center justify-center shadow-[0_0_20px_rgba(234,179,8,0.2)]">
                        <svg class="w-10 h-10 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                </div>
                
                <!-- Content -->
                <div class="flex-grow text-center md:text-left">
                    <h3 class="text-2xl font-bold text-white mb-3 tracking-tight">The "Machines-On" Guarantee</h3>
                    <p class="text-slate-400 text-base leading-relaxed">
                        If the global chain breaks, <strong class="text-yellow-500">we activate domestic production immediately.</strong> We cover the gap using our local facility. You never pay for expedited freight.
                    </p>
                </div>

                <!-- Action -->
                <div class="shrink-0">
                    <Button href="#quote" variant="primary" class="bg-yellow-600 hover:bg-yellow-500 text-black font-bold border-none shadow-[0_0_20px_rgba(234,179,8,0.3)]">Get Protected</Button>
                </div>
            </div>
        </div>
    </div>

  </div>
</section>

<style>
    @keyframes flow-down {
        0% { top: 0; opacity: 0; }
        20% { opacity: 1; }
        80% { opacity: 1; }
        100% { top: 100%; opacity: 0; }
    }
    .animate-flow-down {
        animation: flow-down 3s infinite ease-in-out;
    }
</style>